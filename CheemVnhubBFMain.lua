
local b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
local function d(data)
    data = string.gsub(data, '[^'..b..'=]', '')
    return (data:gsub('.', function(x)
        if x == '=' then return '' end
        local r,f='',(b:find(x)-1)
        for i=6,1,-1 do
            r=r..(f%2^i-f%2^(i-1)>0 and '1' or '0')
        end
        return r;
    end):gsub('%d%d%d?%d?%d?%d?%d?%d?', function(x)
        if #x ~= 8 then return '' end
        local c=0
        for i=1,8 do
            c=c+(x:sub(i,i)=='1' and 2^(8-i) or 0)
        end
        return string.char(c)
    end))
end

local s = d("LS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tIENIRUVNIEhVQiB8IEtFWSBTWVNURU0gKE5PIEhXSUQpCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKbG9jYWwgUGxheWVycyA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpCmxvY2FsIExvY2FsUGxheWVyID0gUGxheWVycy5Mb2NhbFBsYXllcgoKLS0g4pyFIEtleSBo4bujcCBs4buHCmxvY2FsIFZBTElEX0tFWVMgPSB7CiAgICBbIjQ4OWNjMjU0NTRmNTQ1YmQ5YmZjNjFlODBlMGZiNmVkIl0gPSB0cnVlLAogICAgWyJkNTExZjEwMTNlZDI0ZjlhODM1NWIxZTRmYzBjYTBlZCJdID0gdHJ1ZSwKICAgIFsiOWM5MWJkZTE3NWEzNGE3ZWJmMjAwMjFiMjg3MjE1N2EiXSA9IHRydWUKfQoKLS0g4puUIEtleSBi4buLIGJhbgpsb2NhbCBCTEFDS0xJU1RfS0VZUyA9IHsKICAgIFsiMGE4ZDQ5ZmMyYmM0NDIzN2I1ZGViZjVjZjFlMDM3MDAiXSA9IHRydWUsCn0KCi0tIOKdjCBLaMO0bmcgY8OzIGtleQppZiBub3QgZ2V0Z2VudigpLktleSB0aGVuCiAgICBMb2NhbFBsYXllcjpLaWNrKCLinYwgTm8ga2V5IHByb3ZpZGVkIikKICAgIHJldHVybgplbmQKCi0tIOKblCBCbGFja2xpc3QKaWYgQkxBQ0tMSVNUX0tFWVNbZ2V0Z2VudigpLktleV0gdGhlbgogICAgTG9jYWxQbGF5ZXI6S2ljaygi4puURXJyb3I6S2V5IGlzIGJsYWNrbGlzdCB1c2VyIGlzIG5vdCB3aGlsaXN0IikKICAgIHJldHVybgplbmQKCi0tIOKdjCBLZXkgc2FpCmlmIG5vdCBWQUxJRF9LRVlTW2dldGdlbnYoKS5LZXldIHRoZW4KICAgIExvY2FsUGxheWVyOktpY2soIuKdjCBJbnZhbGlkIGtleSIpCiAgICByZXR1cm4KZW5kCgotLSDinIUgS2V5IMSRw7puZyDihpIgdGnhur9wIHThu6VjIGxvYWQgaHViCndhcm4oIltDSEVFTSBIVUJdIOKchSBLZXkgYWNjZXB0ZWQiKQoKLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tIENIRUVNIEhVQiB8IFNNQVJUIENPUkUgKFNJTkdMRSBGSUxFKQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCnJlcGVhdCB0YXNrLndhaXQoKSB1bnRpbCBnYW1lOklzTG9hZGVkKCkKCi0tIFNFUlZJQ0VTCmxvY2FsIFBsYXllcnMgICAgICAgICAgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKQpsb2NhbCBSdW5TZXJ2aWNlICAgICAgID0gZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikKbG9jYWwgVHdlZW5TZXJ2aWNlICAgICA9IGdhbWU6R2V0U2VydmljZSgiVHdlZW5TZXJ2aWNlIikKbG9jYWwgVXNlcklucHV0U2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiVXNlcklucHV0U2VydmljZSIpCmxvY2FsIFJlcGxpY2F0ZWRTdG9yYWdlPSBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikKCmxvY2FsIExvY2FsUGxheWVyID0gUGxheWVycy5Mb2NhbFBsYXllcgoKLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tIENIRUVNIENPUkUKLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CmxvY2FsIENoZWVtQ29yZSA9IHt9CgpmdW5jdGlvbiBDaGVlbUNvcmUuSGFzUXVlc3RHdWkoKQogICAgbG9jYWwgZ3VpID0gTG9jYWxQbGF5ZXIuUGxheWVyR3VpOkZpbmRGaXJzdENoaWxkKCJNYWluIikKICAgIGlmIG5vdCBndWkgdGhlbiByZXR1cm4gZmFsc2UgZW5kCiAgICByZXR1cm4gZ3VpOkZpbmRGaXJzdENoaWxkKCJRdWVzdCIpIH49IG5pbAplbmQKCi0tPT09PT09PT09PT09PT09PSBXRUFQT04gQ09SRSA9PT09PT09PT09PT09PT09PQoKZnVuY3Rpb24gQ2hlZW1Db3JlLkdldFBsYXllcldlYXBvbnMoKQoKICAgIGxvY2FsIGxpc3QgPSB7fQogICAgbG9jYWwgYmFja3BhY2sgPSBMb2NhbFBsYXllcjpGaW5kRmlyc3RDaGlsZCgiQmFja3BhY2siKQogICAgbG9jYWwgY2hhciA9IExvY2FsUGxheWVyLkNoYXJhY3RlcgoKICAgIGlmIGJhY2twYWNrIHRoZW4KICAgICAgICBmb3IgXyx0b29sIGluIHBhaXJzKGJhY2twYWNrOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgIGlmIHRvb2w6SXNBKCJUb29sIikgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgbmFtZSA9IHRvb2wuVG9vbFRpcCBvciB0b29sLk5hbWUKICAgICAgICAgICAgICAgICAgbGlzdFtuYW1lXSA9IHRvb2wKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKCiAgICBpZiBjaGFyIHRoZW4KICAgICAgICBmb3IgXyx0b29sIGluIHBhaXJzKGNoYXI6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgaWYgdG9vbDpJc0EoIlRvb2wiKSB0aGVuCiAgICAgICAgICAgICAgIGxvY2FsIG5hbWUgPSB0b29sLlRvb2xUaXAgb3IgdG9vbC5OYW1lCiAgICAgICAgICAgICAgICBsaXN0W25hbWVdID0gdG9vbAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAoKICAgIHJldHVybiBsaXN0CmVuZAoKCmZ1bmN0aW9uIENoZWVtQ29yZS5HZXRDdXJyZW50V2VhcG9uVHlwZSgpCgogICAgbG9jYWwgY2hhciA9IExvY2FsUGxheWVyLkNoYXJhY3RlcgogICAgaWYgbm90IGNoYXIgdGhlbiByZXR1cm4gZW5kCgogICAgZm9yIF8sdG9vbCBpbiBwYWlycyhjaGFyOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgaWYgdG9vbDpJc0EoIlRvb2wiKSB0aGVuCiAgICAgICAgICAgIHJldHVybiBHZXRXZWFwb25UeXBlKHRvb2wuTmFtZSkKICAgICAgICBlbmQKICAgIGVuZAplbmQKCgpmdW5jdGlvbiBDaGVlbUNvcmUuUmVzb2x2ZVdlYXBvblR5cGUoKQoKICAgIGxvY2FsIHdlYXBvbnMgPSBDaGVlbUNvcmUuR2V0UGxheWVyV2VhcG9ucygpCgogICAgaWYgd2VhcG9uc1tXZWFwb25SdW50aW1lLlNlbGVjdGVkVHlwZV0gdGhlbgogICAgICAgIHJldHVybiBXZWFwb25SdW50aW1lLlNlbGVjdGVkVHlwZQogICAgZW5kCgogICAgZm9yIF8sdHlwZU5hbWUgaW4gaXBhaXJzKFdlYXBvblJ1bnRpbWUuUHJpb3JpdHkpIGRvCiAgICAgICAgaWYgd2VhcG9uc1t0eXBlTmFtZV0gdGhlbgogICAgICAgICAgICByZXR1cm4gdHlwZU5hbWUKICAgICAgICBlbmQKICAgIGVuZAplbmQKCgpmdW5jdGlvbiBDaGVlbUNvcmUuVXBkYXRlRXF1aXBTdGF0ZShub3cpCgogICAgaWYgbm93IC0gV2VhcG9uUnVudGltZS5MYXN0RXF1aXAgPCBXZWFwb25SdW50aW1lLkVxdWlwRGVsYXkgdGhlbiByZXR1cm4gZW5kCgogICAgbG9jYWwgdGFyZ2V0VHlwZSA9IENoZWVtQ29yZS5SZXNvbHZlV2VhcG9uVHlwZSgpCiAgICBpZiBub3QgdGFyZ2V0VHlwZSB0aGVuIHJldHVybiBlbmQKCiAgICBsb2NhbCBjdXJyZW50ID0gQ2hlZW1Db3JlLkdldEN1cnJlbnRXZWFwb25UeXBlKCkKICAgIGlmIGN1cnJlbnQgPT0gdGFyZ2V0VHlwZSB0aGVuIHJldHVybiBlbmQKCiAgICBsb2NhbCB3ZWFwb25zID0gQ2hlZW1Db3JlLkdldFBsYXllcldlYXBvbnMoKQogICAgbG9jYWwgdG9vbCA9IHdlYXBvbnNbdGFyZ2V0VHlwZV0KCiAgICBpZiB0b29sIHRoZW4KICAgICAgICBXZWFwb25SdW50aW1lLkxhc3RFcXVpcCA9IG5vdwogICAgICAgIHRvb2wuUGFyZW50ID0gTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCiAgICBlbmQKZW5kCgotLT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0gU1RBVEUKLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CmxvY2FsIFNUQVRFID0gewogICAgSURMRSA9ICJJRExFIiwKICAgIEZBUk0gPSAiRkFSTSIsCn0KbG9jYWwgQ3VycmVudFN0YXRlID0gU1RBVEUuSURMRQoKLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tIEZMQUdTCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpsb2NhbCBGbGFncyA9IHsKICAgIEVuYWJsZWQgICA9IGZhbHNlLAogICAgQXV0b1F1ZXN0ID0gdHJ1ZSwKICAgIERlYnVnICAgICA9IGZhbHNlLAp9CgotLT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0gRkFSTSBDT05GSUcKLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CmxvY2FsIEZhcm1Db25maWcgPSB7CiAgICBNb2JOYW1lICAgICAgICA9ICJCYW5kaXQiLAogICAgQXR0YWNrRGlzdGFuY2U9IDEwLAogICAgQXR0YWNrRGVsYXkgICA9IDAuMTUsCn0KCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLSBRVUVTVCBEQVRBIChTRUEgMSkKLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CmxvY2FsIFF1ZXN0RGF0YSA9IHsKCiAgICBbIlN0YXJ0IElzbGFuZCJdID0gewogICAgICAgIElzbGFuZFBvcyA9IENGcmFtZS5uZXcoMTA2MCwgMTYsIDE1NDcpLAogICAgICAgIFF1ZXN0cyA9IHsKICAgICAgICAgICAge01pbj0xLCAgTWF4PTksICBRdWVzdD0iQmFuZGl0UXVlc3QxIiwgTGV2ZWw9MSwgTW9iPSJCYW5kaXQifSwKICAgICAgICAgICAge01pbj0xMCwgTWF4PTE0LCBRdWVzdD0iQmFuZGl0UXVlc3QxIiwgTGV2ZWw9MiwgTW9iPSJNb25rZXkifSwKICAgICAgICB9CiAgICB9LAoKICAgIFsiSnVuZ2xlIl0gPSB7CiAgICAgICAgSXNsYW5kUG9zID0gQ0ZyYW1lLm5ldygtMTYwMCwgMzYsIDE1MCksCiAgICAgICAgUXVlc3RzID0gewogICAgICAgICAgICB7TWluPTE1LCBNYXg9MjksIFF1ZXN0PSJKdW5nbGVRdWVzdCIsIExldmVsPTEsIE1vYj0iR29yaWxsYSJ9LAogICAgICAgICAgICB7TWluPTMwLCBNYXg9MzksIFF1ZXN0PSJKdW5nbGVRdWVzdCIsIExldmVsPTIsIE1vYj0iR29yaWxsYSBLaW5nIn0sCiAgICAgICAgfQogICAgfSwKCiAgICBbIlBpcmF0ZSBWaWxsYWdlIl0gPSB7CiAgICAgICAgSXNsYW5kUG9zID0gQ0ZyYW1lLm5ldygtMTEwMCwgMTMsIDM4MDApLAogICAgICAgIFF1ZXN0cyA9IHsKICAgICAgICAgICAge01pbj00MCwgTWF4PTU5LCBRdWVzdD0iQnVnZ3lRdWVzdDEiLCBMZXZlbD0xLCBNb2I9IlBpcmF0ZSJ9LAogICAgICAgICAgICB7TWluPTYwLCBNYXg9NzQsIFF1ZXN0PSJCdWdneVF1ZXN0MSIsIExldmVsPTIsIE1vYj0iQnJ1dGUifSwKICAgICAgICB9CiAgICB9LAoKICAgIFsiRGVzZXJ0Il0gPSB7CiAgICAgICAgSXNsYW5kUG9zID0gQ0ZyYW1lLm5ldyg5MzAsIDcsIDQ0ODApLAogICAgICAgIFF1ZXN0cyA9IHsKICAgICAgICAgICAge01pbj03NSwgTWF4PTg5LCBRdWVzdD0iRGVzZXJ0UXVlc3QiLCBMZXZlbD0xLCBNb2I9IkRlc2VydCBCYW5kaXQifSwKICAgICAgICAgICAge01pbj05MCwgTWF4PTk5LCBRdWVzdD0iRGVzZXJ0UXVlc3QiLCBMZXZlbD0yLCBNb2I9IkRlc2VydCBPZmZpY2VyIn0sCiAgICAgICAgfQogICAgfSwKCiAgICBbIkZyb3plbiBWaWxsYWdlIl0gPSB7CiAgICAgICAgSXNsYW5kUG9zID0gQ0ZyYW1lLm5ldygxMzgwLCA4NywgLTEyOTApLAogICAgICAgIFF1ZXN0cyA9IHsKICAgICAgICAgICAge01pbj0xMDAsIE1heD0xMTksIFF1ZXN0PSJTbm93UXVlc3QiLCBMZXZlbD0xLCBNb2I9IlNub3cgQmFuZGl0In0sCiAgICAgICAgICAgIHtNaW49MTIwLCBNYXg9MTQ5LCBRdWVzdD0iU25vd1F1ZXN0IiwgTGV2ZWw9MiwgTW9iPSJTbm93bWFuIn0sCiAgICAgICAgfQogICAgfSwKCiAgICBbIk1hcmluZSBDYXB0YWluIl0gPSB7CiAgICAgICAgSXNsYW5kUG9zID0gQ0ZyYW1lLm5ldygtNTAzMCwgMjksIDQzMjUpLAogICAgICAgIFF1ZXN0cyA9IHsKICAgICAgICAgICAge01pbj0xNTAsIE1heD0xNzQsIFF1ZXN0PSJNYXJpbmVRdWVzdDIiLCBMZXZlbD0xLCBNb2I9IkNoaWVmIFBldHR5IE9mZmljZXIifSwKICAgICAgICAgICAge01pbj0xNzUsIE1heD0xODksIFF1ZXN0PSJNYXJpbmVRdWVzdDIiLCBMZXZlbD0yLCBNb2I9IlNreSBCYW5kaXQifSwKICAgICAgICB9CiAgICB9LAoKICAgIFsiU2t5IElzbGFuZCJdID0gewogICAgICAgIElzbGFuZFBvcyA9IENGcmFtZS5uZXcoLTQ4NTAsIDcxNywgLTI2MjApLAogICAgICAgIFF1ZXN0cyA9IHsKICAgICAgICAgICAge01pbj0xOTAsIE1heD0yMDksIFF1ZXN0PSJTa3lRdWVzdCIsIExldmVsPTEsIE1vYj0iRGFyayBNYXN0ZXIifSwKICAgICAgICB9CiAgICB9LAoKICAgIFsiUHJpc29uIl0gPSB7CiAgICAgICAgSXNsYW5kUG9zID0gQ0ZyYW1lLm5ldyg0ODUwLCA1LCA3MzUpLAogICAgICAgIFF1ZXN0cyA9IHsKICAgICAgICAgICAge01pbj0yMTAsIE1heD0yNDksIFF1ZXN0PSJQcmlzb25RdWVzdCIsIExldmVsPTEsIE1vYj0iUHJpc29uZXIifSwKICAgICAgICB9CiAgICB9LAoKICAgIFsiQ29sb3NzZXVtIl0gPSB7CiAgICAgICAgSXNsYW5kUG9zID0gQ0ZyYW1lLm5ldygtMTUwMCwgNywgLTMwMDApLAogICAgICAgIFF1ZXN0cyA9IHsKICAgICAgICAgICAge01pbj0yNTAsIE1heD0yOTksIFF1ZXN0PSJDb2xvc3NldW1RdWVzdCIsIExldmVsPTEsIE1vYj0iVG9nYSBXYXJyaW9yIn0sCiAgICAgICAgfQogICAgfSwKCiAgICBbIk1hZ21hIFZpbGxhZ2UiXSA9IHsKICAgICAgICBJc2xhbmRQb3MgPSBDRnJhbWUubmV3KC01MjUwLCA4LCA4NTAwKSwKICAgICAgICBRdWVzdHMgPSB7CiAgICAgICAgICAgIHtNaW49MzAwLCBNYXg9MzI0LCBRdWVzdD0iTWFnbWFRdWVzdCIsIExldmVsPTEsIE1vYj0iTWlsaXRhcnkgU29sZGllciJ9LAogICAgICAgICAgICB7TWluPTMyNSwgTWF4PTM3NCwgUXVlc3Q9Ik1hZ21hUXVlc3QiLCBMZXZlbD0yLCBNb2I9Ik1pbGl0YXJ5IFNweSJ9LAogICAgICAgIH0KICAgIH0sCgogICAgWyJGaXNobWFuIElzbGFuZCJdID0gewogICAgICAgIElzbGFuZFBvcyA9IENGcmFtZS5uZXcoNjEwMDAsIDE4LCAxNTYwKSwKICAgICAgICBRdWVzdHMgPSB7CiAgICAgICAgICAgIHtNaW49Mzc1LCBNYXg9Mzk5LCBRdWVzdD0iRmlzaG1hblF1ZXN0IiwgTGV2ZWw9MSwgTW9iPSJGaXNobWFuIFdhcnJpb3IifSwKICAgICAgICAgICAge01pbj00MDAsIE1heD00NDksIFF1ZXN0PSJGaXNobWFuUXVlc3QiLCBMZXZlbD0yLCBNb2I9IkZpc2htYW4gQ29tbWFuZG8ifSwKICAgICAgICB9CiAgICB9LAoKICAgIFsiU2t5cGllYSJdID0gewogICAgICAgIElzbGFuZFBvcyA9IENGcmFtZS5uZXcoLTQ3MjAsIDg0NSwgLTE5NTApLAogICAgICAgIFF1ZXN0cyA9IHsKICAgICAgICAgICAge01pbj00NTAsIE1heD00NzQsIFF1ZXN0PSJTa3lFeHAxUXVlc3QiLCBMZXZlbD0xLCBNb2I9IkdvZCdzIEd1YXJkIn0sCiAgICAgICAgICAgIHtNaW49NDc1LCBNYXg9NTI0LCBRdWVzdD0iU2t5RXhwMVF1ZXN0IiwgTGV2ZWw9MiwgTW9iPSJTaGFuZGEifSwKICAgICAgICB9CiAgICB9LAoKICAgIFsiRm91bnRhaW4gQ2l0eSJdID0gewogICAgICAgIElzbGFuZFBvcyA9IENGcmFtZS5uZXcoNTI1MCwgMzksIDQwNTApLAogICAgICAgIFF1ZXN0cyA9IHsKICAgICAgICAgICAge01pbj01MjUsIE1heD03MDAsIFF1ZXN0PSJGb3VudGFpblF1ZXN0IiwgTGV2ZWw9MSwgTW9iPSJHYWxsZXkgUGlyYXRlIn0sCiAgICAgICAgfQogICAgfSwKfQoKZnVuY3Rpb24gQ2hlZW1Db3JlLkdldFF1ZXN0QnlMZXZlbChsdikKICAgIGZvciBfLCBpc2xhbmQgaW4gcGFpcnMoUXVlc3REYXRhKSBkbwogICAgICAgIGZvciBfLCBxIGluIGlwYWlycyhpc2xhbmQuUXVlc3RzKSBkbwogICAgICAgICAgICBpZiBsdiA+PSBxLk1pbiBhbmQgbHYgPD0gcS5NYXggdGhlbgogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBRdWVzdE5hbWUgPSBxLlF1ZXN0LAogICAgICAgICAgICAgICAgICAgIFF1ZXN0TGV2ZWwgPSBxLkxldmVsLAogICAgICAgICAgICAgICAgICAgIE1vYk5hbWUgPSBxLk1vYiwKICAgICAgICAgICAgICAgICAgICBJc2xhbmRQb3MgPSBpc2xhbmQuSXNsYW5kUG9zCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCmVuZAoKLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tIENIQVJBQ1RFUgotLT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KbG9jYWwgQ2hhcmFjdGVyLCBIUlAKbG9jYWwgZnVuY3Rpb24gc2V0dXBDaGFyYWN0ZXIoY2hhcikKICAgIENoYXJhY3RlciA9IGNoYXIKICAgIEhSUCA9IGNoYXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKZW5kCmlmIExvY2FsUGxheWVyLkNoYXJhY3RlciB0aGVuIHNldHVwQ2hhcmFjdGVyKExvY2FsUGxheWVyLkNoYXJhY3RlcikgZW5kCkxvY2FsUGxheWVyLkNoYXJhY3RlckFkZGVkOkNvbm5lY3Qoc2V0dXBDaGFyYWN0ZXIpCgotLT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0gUlVOVElNRSAoU0lOR0xFIFNPVVJDRSBPRiBUUlVUSCkKLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CmxvY2FsIFJ1bnRpbWUgPSB7CiAgICBDdXJyZW50UXVlc3QgPSBuaWwsCiAgICBIYXNRdWVzdCAgICAgPSBmYWxzZSwKICAgIFRhcmdldCAgICAgICA9IG5pbCwKICAgIExhc3RBdHRhY2sgICA9IDAsCiAgICBMYXN0UXVlc3QgICAgPSAwLAogICAgTGFzdFNjYW4gICAgID0gMCwKfQoKLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tIFdFQVBPTiBSVU5USU1FCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpsb2NhbCBXZWFwb25SdW50aW1lID0gewogICAgU2VsZWN0ZWRUeXBlID0gIlN3b3JkIiwKICAgIFByaW9yaXR5ID0geyJTd29yZCIsIkJsb3ggRnJ1aXQiLCJHdW4ifSwKICAgIExhc3RFcXVpcCA9IDAsCiAgICBFcXVpcERlbGF5ID0gMC42Cn0KLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tIFdFQVBPTiBIRUxQRVIKLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CmxvY2FsIGZ1bmN0aW9uIEdldFdlYXBvblR5cGUodG9vbE5hbWUpCgogICAgdG9vbE5hbWUgPSB0b29sTmFtZTpsb3dlcigpCgppZiB0b29sTmFtZTpmaW5kKCJmcnVpdCIpIHRoZW4KICAgIHJldHVybiAiQmxveCBGcnVpdCIKZW5kCgogICAgaWYgdG9vbE5hbWU6ZmluZCgiZ3VuIikgb3IgdG9vbE5hbWU6ZmluZCgicmlmbGUiKSB0aGVuCiAgICAgICAgcmV0dXJuICJHdW4iCiAgICBlbmQKCiAgICByZXR1cm4gIlN3b3JkIgplbmQKCmZ1bmN0aW9uIENoZWVtQ29yZS5TY2FuSW52ZW50b3J5KCkKCiAgICBsb2NhbCBiYWNrcGFjayA9IExvY2FsUGxheWVyOkZpbmRGaXJzdENoaWxkKCJCYWNrcGFjayIpCiAgICBpZiBub3QgYmFja3BhY2sgdGhlbiByZXR1cm4gZW5kCgogICAgbG9jYWwgd2VhcG9ucyA9IHsKICAgICAgICBTd29yZCA9IHt9LAogICAgICAgIEZydWl0ID0ge30sCiAgICAgICAgR3VuICAgPSB7fQogICAgfQoKICAgIGZvciBfLHRvb2wgaW4gaXBhaXJzKGJhY2twYWNrOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgaWYgdG9vbDpJc0EoIlRvb2wiKSB0aGVuCiAgICAgICAgICAgIGxvY2FsIHQgPSBHZXRXZWFwb25UeXBlKHRvb2wuTmFtZSkKICAgICAgICAgICAgdGFibGUuaW5zZXJ0KHdlYXBvbnNbdF0sIHRvb2wuTmFtZSkKICAgICAgICBlbmQKICAgIGVuZAoKICAgIGlmIENoYXJhY3RlciB0aGVuCiAgICAgICAgZm9yIF8sdG9vbCBpbiBpcGFpcnMoQ2hhcmFjdGVyOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgIGlmIHRvb2w6SXNBKCJUb29sIikgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgdCA9IEdldFdlYXBvblR5cGUodG9vbC5OYW1lKQogICAgICAgICAgICAgICAgdGFibGUuaW5zZXJ0KHdlYXBvbnNbdF0sIHRvb2wuTmFtZSkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKCiAgICByZXR1cm4gd2VhcG9ucwplbmQKCmZ1bmN0aW9uIENoZWVtQ29yZS5SZXNvbHZlUHJpb3JpdHlXZWFwb24oKQoKICAgIGxvY2FsIGludiA9IENoZWVtQ29yZS5TY2FuSW52ZW50b3J5KCkKICAgIGlmIG5vdCBpbnYgdGhlbiByZXR1cm4gZW5kCgogICAgaWYgI2ludi5Td29yZCA+IDAgdGhlbiByZXR1cm4gaW52LlN3b3JkWzFdIGVuZAogICAgaWYgI2ludi5GcnVpdCA+IDAgdGhlbiByZXR1cm4gaW52LkZydWl0WzFdIGVuZAogICAgaWYgI2ludi5HdW4gPiAwIHRoZW4gcmV0dXJuIGludi5HdW5bMV0gZW5kCmVuZAoKZnVuY3Rpb24gQ2hlZW1Db3JlLlJlZnJlc2hXZWFwb24oKQoKICAgIGxvY2FsIHNlbGVjdGVkCgogICAgaWYgV2VhcG9uUnVudGltZS5Qcmlvcml0eU1vZGUgdGhlbgogICAgICAgIHNlbGVjdGVkID0gQ2hlZW1Db3JlLlJlc29sdmVQcmlvcml0eVdlYXBvbigpCiAgICBlbHNlCiAgICAgICAgc2VsZWN0ZWQgPSBXZWFwb25SdW50aW1lLlNlbGVjdGVkTWFudWFsCiAgICBlbmQKCiAgICBpZiBub3Qgc2VsZWN0ZWQgdGhlbiByZXR1cm4gZW5kCgogICAgV2VhcG9uUnVudGltZS5DdXJyZW50V2VhcG9uID0gc2VsZWN0ZWQKZW5kCgotLSBRdWVzdCB1cGRhdGUgKHNsb3cgdGljaykKZnVuY3Rpb24gQ2hlZW1Db3JlLlVwZGF0ZVF1ZXN0KG5vdykKICAgIGlmIG5vdyAtIFJ1bnRpbWUuTGFzdFF1ZXN0IDwgMSB0aGVuIHJldHVybiBlbmQKICAgIFJ1bnRpbWUuTGFzdFF1ZXN0ID0gbm93CgogICAgbG9jYWwgZGF0YSA9IExvY2FsUGxheWVyOkZpbmRGaXJzdENoaWxkKCJEYXRhIikKICAgIGlmIG5vdCBkYXRhIG9yIG5vdCBkYXRhOkZpbmRGaXJzdENoaWxkKCJMZXZlbCIpIHRoZW4gcmV0dXJuIGVuZAogICAgbG9jYWwgbHYgPSBkYXRhLkxldmVsLlZhbHVlCiAgICBsb2NhbCBuZXdRdWVzdCA9IENoZWVtQ29yZS5HZXRRdWVzdEJ5TGV2ZWwobHYpCiAgICBpZiBub3QgbmV3UXVlc3QgdGhlbiByZXR1cm4gZW5kCgogICAgLS0g8J+agCDEkOG7piBMRVZFTCDihpIgUVVFU1QgTeG7mkkKaWYgbm90IFJ1bnRpbWUuQ3VycmVudFF1ZXN0Cm9yIFJ1bnRpbWUuQ3VycmVudFF1ZXN0LlF1ZXN0TmFtZSB+PSBuZXdRdWVzdC5RdWVzdE5hbWUKb3IgUnVudGltZS5DdXJyZW50UXVlc3QuUXVlc3RMZXZlbCB+PSBuZXdRdWVzdC5RdWVzdExldmVsIHRoZW4KCiAgICBSdW50aW1lLkN1cnJlbnRRdWVzdCA9IG5ld1F1ZXN0CiAgICBGYXJtQ29uZmlnLk1vYk5hbWUgPSBuZXdRdWVzdC5Nb2JOYW1lCgogICAgUnVudGltZS5UYXJnZXQgICA9IG5pbAogICAgUnVudGltZS5IYXNRdWVzdCA9IGZhbHNlCgogICAgaWYgRmxhZ3MuRGVidWcgdGhlbgogICAgICAgIHdhcm4oIltDSEVFTV0gTmV3IFF1ZXN0OiIsIG5ld1F1ZXN0Lk1vYk5hbWUpCiAgICAgICBlbmQKICAgIGVuZAplbmQKCi0tIFVwZGF0ZVF1ZXN0U3RhdGUKZnVuY3Rpb24gQ2hlZW1Db3JlLlVwZGF0ZVF1ZXN0U3RhdGUoKQogICAgaWYgQ2hlZW1Db3JlLkhhc1F1ZXN0R3VpKCkgdGhlbgogICAgICAgIFJ1bnRpbWUuSGFzUXVlc3QgPSB0cnVlCiAgICBlbHNlCiAgICAgICAgUnVudGltZS5IYXNRdWVzdCA9IGZhbHNlCiAgICBlbmQKZW5kCgotLSBBdXRvIHRha2UgcXVlc3QgKHNhZmUpCmZ1bmN0aW9uIENoZWVtQ29yZS5UYWtlUXVlc3QoKQogICAgaWYgbm90IEZsYWdzLkF1dG9RdWVzdCB0aGVuIHJldHVybiBlbmQKCiAgICAtLSDwn6egIMSRw6MgY8OzIHF1ZXN0IHRyb25nIFVJIHRow6wgdGjDtGkKICAgIGlmIENoZWVtQ29yZS5IYXNRdWVzdEd1aSgpIHRoZW4KICAgICAgICBSdW50aW1lLkhhc1F1ZXN0ID0gdHJ1ZQogICAgICAgIHJldHVybgogICAgZW5kCiAgIC0tUXVlc3QgbW9uaXRpb3IKICAgCiAgICBpZiBSdW50aW1lLkhhc1F1ZXN0IHRoZW4gcmV0dXJuIGVuZAoKICAgIGxvY2FsIHEgPSBSdW50aW1lLkN1cnJlbnRRdWVzdAogICAgaWYgbm90IHEgdGhlbiByZXR1cm4gZW5kCgogICAgbG9jYWwgQ29tbUYgPSBSZXBsaWNhdGVkU3RvcmFnZS5SZW1vdGVzOkZpbmRGaXJzdENoaWxkKCJDb21tRl8iKQogICAgaWYgQ29tbUYgdGhlbgogICAgICAgIENvbW1GOkludm9rZVNlcnZlcigiU3RhcnRRdWVzdCIsIHEuUXVlc3ROYW1lLCBxLlF1ZXN0TGV2ZWwpCiAgICAgICAgUnVudGltZS5IYXNRdWVzdCA9IHRydWUKICAgIGVuZAplbmQKCi0tIEZpbmQgY2xvc2VzdCBtb2IKZnVuY3Rpb24gQ2hlZW1Db3JlLkdldE1vYigpCiAgICBsb2NhbCBlbmVtaWVzID0gd29ya3NwYWNlOkZpbmRGaXJzdENoaWxkKCJFbmVtaWVzIikKICAgIGlmIG5vdCBlbmVtaWVzIG9yIG5vdCBIUlAgdGhlbiByZXR1cm4gZW5kCgogICAgbG9jYWwgY2xvc2VzdCwgZGlzdCA9IG5pbCwgbWF0aC5odWdlCiAgICBmb3IgXyxtb2IgaW4gaXBhaXJzKGVuZW1pZXM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBpZiBtb2IuTmFtZSA9PSBGYXJtQ29uZmlnLk1vYk5hbWUKICAgICAgICBhbmQgbW9iOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpCiAgICAgICAgYW5kIG1vYjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCiAgICAgICAgYW5kIG1vYi5IdW1hbm9pZC5IZWFsdGggPiAwIHRoZW4KICAgICAgICAgICAgbG9jYWwgZCA9IChIUlAuUG9zaXRpb24gLSBtb2IuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikuTWFnbml0dWRlCiAgICAgICAgICAgIGlmIGQgPCBkaXN0IHRoZW4KICAgICAgICAgICAgICAgIGRpc3QgPSBkCiAgICAgICAgICAgICAgICBjbG9zZXN0ID0gbW9iCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICByZXR1cm4gY2xvc2VzdAplbmQKCi0tIEVuc3VyZSBpc2xhbmQgKG5vbi1ibG9jaykKZnVuY3Rpb24gQ2hlZW1Db3JlLkVuc3VyZUlzbGFuZChkdCkKICAgIGxvY2FsIHEgPSBSdW50aW1lLkN1cnJlbnRRdWVzdAogICAgaWYgbm90IHEgb3Igbm90IEhSUCB0aGVuIHJldHVybiB0cnVlIGVuZAoKICAgIGxvY2FsIGRpc3QgPSAoSFJQLlBvc2l0aW9uIC0gcS5Jc2xhbmRQb3MuUG9zaXRpb24pLk1hZ25pdHVkZQogICAgaWYgZGlzdCA+IDMwMCB0aGVuCiAgICAgICAgLS0gbW92ZSBtxrDhu6N0IChraMO0bmcgdHdlZW4sIGtow7RuZyB3YWl0KQogICAgICAgIEhSUC5DRnJhbWUgPSBIUlAuQ0ZyYW1lOkxlcnAoCiAgICBxLklzbGFuZFBvcywKICAgIG1hdGguY2xhbXAoZHQgKiAxLjIsIDAsIDAuMTUpCikKICAgICAgICByZXR1cm4gZmFsc2UKICAgIGVuZAoKICAgIHJldHVybiB0cnVlCmVuZAoKLS0gTWFpbiBmYXJtIHRpY2sgKE5PIHlpZWxkLCBOTyB3YWl0KQpmdW5jdGlvbiBDaGVlbUNvcmUuRmFybVRpY2soZHQpCiAgICBpZiBub3QgSFJQIHRoZW4gcmV0dXJuIGVuZAogICAgbG9jYWwgbm93ID0gb3MuY2xvY2soKQoKLS0gZW5zdXJlIHdlYXBvbiBlcXVpcHBlZApDaGVlbUNvcmUuVXBkYXRlRXF1aXBTdGF0ZShvcy5jbG9jaygpKQoKICAgIC0tIElzbGFuZCBjaGVjawogICAgaWYgbm90IENoZWVtQ29yZS5FbnN1cmVJc2xhbmQoZHQpIHRoZW4KICAgICAgICBSdW50aW1lLlRhcmdldCA9IG5pbAogICAgICAgIHJldHVybgogICAgZW5kCgogICAgLS0gU2NhbiB0YXJnZXQgKGNvb2xkb3duKQogICAgaWYgbm90IFJ1bnRpbWUuVGFyZ2V0CiAgICBvciBSdW50aW1lLlRhcmdldC5IdW1hbm9pZC5IZWFsdGggPD0gMCB0aGVuCiAgICAgICAgaWYgbm93IC0gUnVudGltZS5MYXN0U2NhbiA+IDAuNCB0aGVuCiAgICAgICAgICAgIFJ1bnRpbWUuVGFyZ2V0ID0gQ2hlZW1Db3JlLkdldE1vYigpCiAgICAgICAgICAgIFJ1bnRpbWUuTGFzdFNjYW4gPSBub3cKICAgICAgICBlbmQKICAgICAgICByZXR1cm4KICAgIGVuZAoKICAgIGxvY2FsIG1vYiA9IFJ1bnRpbWUuVGFyZ2V0CiAgICBsb2NhbCBocnAgPSBtb2IuSHVtYW5vaWRSb290UGFydAoKICAgIC0tIEhvbGQgcG9zaXRpb24KICAgIGxvY2FsIGF0dGFja0NGID0gaHJwLkNGcmFtZSAqIENGcmFtZS5uZXcoMCwwLEZhcm1Db25maWcuQXR0YWNrRGlzdGFuY2UpCiAgICBIUlAuQ0ZyYW1lID0gSFJQLkNGcmFtZTpMZXJwKGF0dGFja0NGLCAwLjM1KQoKICAgIC0tIEF0dGFjayB0aWNrCiAgICBpZiBub3cgLSBSdW50aW1lLkxhc3RBdHRhY2sgPj0gRmFybUNvbmZpZy5BdHRhY2tEZWxheSB0aGVuCiAgICAgICAgbW91c2UxY2xpY2soKQogICAgICAgIFJ1bnRpbWUuTGFzdEF0dGFjayA9IG5vdwogICAgZW5kCmVuZAoKLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tIENIRUVNIFVJIExJQlJBUlkKLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Cgpsb2NhbCBDaGVlbVVJID0ge30KCmxvY2FsIFBsYXllcnMgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKQpsb2NhbCBQbGF5ZXJHdWkgPSBQbGF5ZXJzLkxvY2FsUGxheWVyOldhaXRGb3JDaGlsZCgiUGxheWVyR3VpIikKCmxvY2FsIEd1aSA9IEluc3RhbmNlLm5ldygiU2NyZWVuR3VpIikKR3VpLk5hbWUgPSAiQ2hlZW1IdWIiCkd1aS5SZXNldE9uU3Bhd24gPSBmYWxzZQpHdWkuUGFyZW50ID0gUGxheWVyR3VpCgpsb2NhbCBNYWluID0gSW5zdGFuY2UubmV3KCJGcmFtZSIsIEd1aSkKTWFpbi5TaXplID0gVURpbTIuZnJvbVNjYWxlKDAuNiwgMC42KQpNYWluLlBvc2l0aW9uID0gVURpbTIuZnJvbVNjYWxlKDAuMiwgMC4yKQpNYWluLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOCwxOCwxOCkKTWFpbi5Cb3JkZXJTaXplUGl4ZWwgPSAwCkluc3RhbmNlLm5ldygiVUlDb3JuZXIiLCBNYWluKS5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLDEyKQoKLS0gVEFCIChUUsOBSSkKbG9jYWwgVGFic0ZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIsIE1haW4pClRhYnNGcmFtZS5TaXplID0gVURpbTIuZnJvbVNjYWxlKDAuMjUsIDEpClRhYnNGcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUsMjUsMjUpClRhYnNGcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAwCkluc3RhbmNlLm5ldygiVUlDb3JuZXIiLCBUYWJzRnJhbWUpLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsMTIpCgpsb2NhbCBUYWJzTGF5b3V0ID0gSW5zdGFuY2UubmV3KCJVSUxpc3RMYXlvdXQiLCBUYWJzRnJhbWUpClRhYnNMYXlvdXQuUGFkZGluZyA9IFVEaW0ubmV3KDAsNikKVGFic0xheW91dC5Ib3Jpem9udGFsQWxpZ25tZW50ID0gRW51bS5Ib3Jpem9udGFsQWxpZ25tZW50LkNlbnRlcgoKbG9jYWwgVGFic1BhZGRpbmcgPSBJbnN0YW5jZS5uZXcoIlVJUGFkZGluZyIsIFRhYnNGcmFtZSkKVGFic1BhZGRpbmcuUGFkZGluZ1RvcCA9IFVEaW0ubmV3KDAsMTApCgotLSBDT05URU5UIChQSOG6okkpCmxvY2FsIFBhZ2VzRnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIiwgTWFpbikKUGFnZXNGcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLmZyb21TY2FsZSgwLjI1LDApClBhZ2VzRnJhbWUuU2l6ZSA9IFVEaW0yLmZyb21TY2FsZSgwLjc1LDEpClBhZ2VzRnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE1LDE1LDE1KQpQYWdlc0ZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDAKSW5zdGFuY2UubmV3KCJVSUNvcm5lciIsIFBhZ2VzRnJhbWUpLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsMTIpCgpsb2NhbCBUYWJzID0ge30KbG9jYWwgUGFnZXMgPSB7fQpsb2NhbCBDdXJyZW50VGFiCgpmdW5jdGlvbiBDaGVlbVVJOkNyZWF0ZVRhYihuYW1lKQogICAgLS0gQlVUVE9OCiAgICBsb2NhbCBidG4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iLCBUYWJzRnJhbWUpCiAgICBidG4uU2l6ZSA9IFVEaW0yLmZyb21TY2FsZSgwLjksMC4wOCkKICAgIGJ0bi5UZXh0ID0gbmFtZQogICAgYnRuLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtQm9sZAogICAgYnRuLlRleHRTaXplID0gMTQKICAgIGJ0bi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LDI1NSwyNTUpCiAgICBidG4uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDQwLDQwLDQwKQogICAgYnRuLkJvcmRlclNpemVQaXhlbCA9IDAKICAgIEluc3RhbmNlLm5ldygiVUlDb3JuZXIiLCBidG4pCgogICAgLS0gUEFHRQogICAgbG9jYWwgcGFnZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiLCBQYWdlc0ZyYW1lKQogICAgcGFnZS5TaXplID0gVURpbTIuZnJvbVNjYWxlKDEsMSkKICAgIHBhZ2UuVmlzaWJsZSA9IGZhbHNlCiAgICBwYWdlLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCgogICAgVGFic1tuYW1lXSA9IGJ0bgogICAgUGFnZXNbbmFtZV0gPSBwYWdlCgogICAgYnRuLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgIGlmIEN1cnJlbnRUYWIgdGhlbgogICAgICAgICAgICBUYWJzW0N1cnJlbnRUYWJdLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig0MCw0MCw0MCkKICAgICAgICAgICAgUGFnZXNbQ3VycmVudFRhYl0uVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgZW5kCiAgICAgICAgQ3VycmVudFRhYiA9IG5hbWUKICAgICAgICBidG4uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDkwLDcwLDIwMCkKICAgICAgICBwYWdlLlZpc2libGUgPSB0cnVlCiAgICBlbmQpCgogICAgaWYgbm90IEN1cnJlbnRUYWIgdGhlbgogICAgICAgIEN1cnJlbnRUYWIgPSBuYW1lCiAgICAgICAgYnRuLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig5MCw3MCwyMDApCiAgICAgICAgcGFnZS5WaXNpYmxlID0gdHJ1ZQogICAgZW5kCgogICAgcmV0dXJuIHBhZ2UKZW5kCgpmdW5jdGlvbiBDaGVlbVVJOkNyZWF0ZVRvZ2dsZShwYXJlbnQsIHRleHQsIGRlZmF1bHQsIGNhbGxiYWNrKQogICAgbG9jYWwgaG9sZGVyID0gSW5zdGFuY2UubmV3KCJGcmFtZSIsIHBhcmVudCkKICAgIGhvbGRlci5TaXplID0gVURpbTIuZnJvbVNjYWxlKDAuOSwwLjA4KQogICAgaG9sZGVyLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCgogICAgbG9jYWwgbGFiZWwgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIGhvbGRlcikKICAgIGxhYmVsLlNpemUgPSBVRGltMi5mcm9tU2NhbGUoMC42LDEpCiAgICBsYWJlbC5UZXh0ID0gdGV4dAogICAgbGFiZWwuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1Cb2xkCiAgICBsYWJlbC5UZXh0U2l6ZSA9IDE0CiAgICBsYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjMwLDIzMCwyMzApCiAgICBsYWJlbC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgbGFiZWwuVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkxlZnQKCiAgICBsb2NhbCBib3ggPSBJbnN0YW5jZS5uZXcoIkZyYW1lIiwgaG9sZGVyKQogICAgYm94LlNpemUgPSBVRGltMi5mcm9tU2NhbGUoMC4yNSwwLjcpCiAgICBib3guUG9zaXRpb24gPSBVRGltMi5mcm9tU2NhbGUoMC43LDAuMTUpCiAgICBib3guQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDM1LDM1LDM1KQogICAgSW5zdGFuY2UubmV3KCJVSUNvcm5lciIsIGJveCkuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMSwwKQoKICAgIGxvY2FsIGtub2IgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIiwgYm94KQogICAga25vYi5TaXplID0gVURpbTIuZnJvbVNjYWxlKDAuNDUsMC44NSkKICAgIGtub2IuUG9zaXRpb24gPSBkZWZhdWx0IGFuZCBVRGltMi5mcm9tU2NhbGUoMC41LDAuMDc1KSBvciBVRGltMi5mcm9tU2NhbGUoMC4wNSwwLjA3NSkKICAgIGtub2IuQmFja2dyb3VuZENvbG9yMyA9IGRlZmF1bHQgYW5kIENvbG9yMy5mcm9tUkdCKDkwLDcwLDIwMCkgb3IgQ29sb3IzLmZyb21SR0IoMTIwLDEyMCwxMjApCiAgICBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwga25vYikuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMSwwKQoKICAgIGxvY2FsIGJ0biA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIsIGJveCkKICAgIGJ0bi5TaXplID0gVURpbTIuZnJvbVNjYWxlKDEsMSkKICAgIGJ0bi5UZXh0ID0gIiIKICAgIGJ0bi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQoKICAgIGJ0bi5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICBkZWZhdWx0ID0gbm90IGRlZmF1bHQKICAgICAgICBjYWxsYmFjayhkZWZhdWx0KQoKICAgICAgICBrbm9iOlR3ZWVuUG9zaXRpb24oCiAgICAgICAgICAgIGRlZmF1bHQgYW5kIFVEaW0yLmZyb21TY2FsZSgwLjUsMC4wNzUpIG9yIFVEaW0yLmZyb21TY2FsZSgwLjA1LDAuMDc1KSwKICAgICAgICAgICAgRW51bS5FYXNpbmdEaXJlY3Rpb24uT3V0LAogICAgICAgICAgICBFbnVtLkVhc2luZ1N0eWxlLlF1YWQsCiAgICAgICAgICAgIDAuMiwKICAgICAgICAgICAgdHJ1ZQogICAgICAgICkKICAgICAgICBrbm9iLkJhY2tncm91bmRDb2xvcjMgPSBkZWZhdWx0IGFuZCBDb2xvcjMuZnJvbVJHQig5MCw3MCwyMDApIG9yIENvbG9yMy5mcm9tUkdCKDEyMCwxMjAsMTIwKQogICAgZW5kKQplbmQKCmxvY2FsIFNldHRpbmdUYWIgPSBDaGVlbVVJOkNyZWF0ZVRhYigiU2V0dGluZyBmYXJtIikKbG9jYWwgRmFybVRhYiA9IENoZWVtVUk6Q3JlYXRlVGFiKCJGYXJtIikKCkNoZWVtVUk6Q3JlYXRlVG9nZ2xlKEZhcm1UYWIsICJBdXRvIEZhcm0iLCBmYWxzZSwgZnVuY3Rpb24odikKICAgIEZsYWdzLkVuYWJsZWQgPSB2CiAgICBDdXJyZW50U3RhdGUgPSB2IGFuZCBTVEFURS5GQVJNIG9yIFNUQVRFLklETEUKZW5kKQotLT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS1XRUFQT04gVFlQRVMKLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CmxvY2FsIFdlYXBvblR5cGVzID0gewogICAgIlN3b3JkIiwKICAgICJCbG94IEZydWl0IiwKICAgICJHdW4iCn0KCi0tPT09PT09PT09PT09PT09PSBEUk9QRE9XTiA9PT09PT09PT09PT09PT09PQpsb2NhbCBmdW5jdGlvbiBDcmVhdGVEcm9wZG93bihwYXJlbnQsIHRpdGxlLCBnZXRMaXN0LCBjYWxsYmFjaykKICAgIGxvY2FsIGJveCA9IEluc3RhbmNlLm5ldygiRnJhbWUiLCBwYXJlbnQpCiAgICBib3guU2l6ZSA9IFVEaW0yLmZyb21TY2FsZSgwLjksIDAuMSkKICAgIGJveC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMzUsMzUsMzUpCiAgICBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwgYm94KS5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLDEwKQoKICAgIGxvY2FsIGxhYmVsID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCBib3gpCiAgICBsYWJlbC5TaXplID0gVURpbTIuZnJvbVNjYWxlKDEsMSkKICAgIGxhYmVsLlRleHQgPSB0aXRsZSAuLiAiOiBOb25lIgogICAgbGFiZWwuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1Cb2xkCiAgICBsYWJlbC5UZXh0U2l6ZSA9IDE0CiAgICBsYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LDI1NSwyNTUpCiAgICBsYWJlbC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQoKICAgIGxvY2FsIG9wZW4gPSBmYWxzZQogICAgbG9jYWwgbGlzdEZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIsIHBhcmVudCkKICAgIGxpc3RGcmFtZS5WaXNpYmxlID0gZmFsc2UKICAgIGxpc3RGcmFtZS5TaXplID0gVURpbTIubmV3KDAuOSwwLDAsMCkKICAgIGxpc3RGcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLmZyb21TY2FsZSgwLDAuMTEpCiAgICBsaXN0RnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIwLDIwLDIwKQogICAgSW5zdGFuY2UubmV3KCJVSUNvcm5lciIsIGxpc3RGcmFtZSkKCiAgICBsb2NhbCBsYXlvdXQgPSBJbnN0YW5jZS5uZXcoIlVJTGlzdExheW91dCIsIGxpc3RGcmFtZSkKICAgIGxheW91dC5QYWRkaW5nID0gVURpbS5uZXcoMCw0KQoKICAgIGxvY2FsIGZ1bmN0aW9uIHJlZnJlc2goKQogICAgICAgIGZvciBfLGMgaW4gaXBhaXJzKGxpc3RGcmFtZTpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICBpZiBjOklzQSgiVGV4dEJ1dHRvbiIpIHRoZW4gYzpEZXN0cm95KCkgZW5kCiAgICAgICAgZW5kCgogICAgICAgIGZvciBfLG5hbWUgaW4gaXBhaXJzKGdldExpc3QoKSkgZG8KICAgICAgICAgICAgbG9jYWwgYnRuID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiwgbGlzdEZyYW1lKQogICAgICAgICAgICBidG4uU2l6ZSA9IFVEaW0yLm5ldygxLDAsMCwzMCkKICAgICAgICAgICAgYnRuLlRleHQgPSBuYW1lCiAgICAgICAgICAgIGJ0bi5Gb250ID0gRW51bS5Gb250LkdvdGhhbQogICAgICAgICAgICBidG4uVGV4dFNpemUgPSAxMwogICAgICAgICAgICBidG4uVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMSwxLDEpCiAgICAgICAgICAgIGJ0bi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNDAsNDAsNDApCiAgICAgICAgICAgIEluc3RhbmNlLm5ldygiVUlDb3JuZXIiLCBidG4pCgogICAgICAgICAgICBidG4uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBsYWJlbC5UZXh0ID0gdGl0bGUgLi4gIjogIiAuLiBuYW1lCiAgICAgICAgICAgICAgICBjYWxsYmFjayhuYW1lKQogICAgICAgICAgICAgICAgbGlzdEZyYW1lLlZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgb3BlbiA9IGZhbHNlCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAoKICAgIGJveC5JbnB1dEJlZ2FuOkNvbm5lY3QoZnVuY3Rpb24oaSkKICAgICAgICBpZiBpLlVzZXJJbnB1dFR5cGUgPT0gRW51bS5Vc2VySW5wdXRUeXBlLk1vdXNlQnV0dG9uMSB0aGVuCiAgICAgICAgICAgIG9wZW4gPSBub3Qgb3BlbgogICAgICAgICAgICBpZiBvcGVuIHRoZW4KICAgICAgICAgICAgICAgIHJlZnJlc2goKQogICAgICAgICAgICAgICAgbGlzdEZyYW1lLlZpc2libGUgPSB0cnVlCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGxpc3RGcmFtZS5WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQpCmVuZAoKQ3JlYXRlRHJvcGRvd24oRmFybVRhYiwiU2VsZWN0IFdlYXBvbiBUeXBlIiwKZnVuY3Rpb24oKQogICAgcmV0dXJuIFdlYXBvblR5cGVzCmVuZCwKZnVuY3Rpb24odmFsdWUpCiAgICBXZWFwb25SdW50aW1lLlNlbGVjdGVkVHlwZSA9IHZhbHVlCmVuZCkKCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLSBNQUlOIExPT1AKLS09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ClJ1blNlcnZpY2UuSGVhcnRiZWF0OkNvbm5lY3QoZnVuY3Rpb24oZHQpCgogICAgaWYgbm90IEZsYWdzLkVuYWJsZWQgdGhlbiByZXR1cm4gZW5kCiAgICBpZiBDdXJyZW50U3RhdGUgfj0gU1RBVEUuRkFSTSB0aGVuIHJldHVybiBlbmQKCiAgICBsb2NhbCBub3cgPSBvcy5jbG9jaygpCgogICAgQ2hlZW1Db3JlLlVwZGF0ZVF1ZXN0KG5vdykKICAgIENoZWVtQ29yZS5VcGRhdGVFcXVpcFN0YXRlKG5vdykKICAgIENoZWVtQ29yZS5UYWtlUXVlc3QoKQogICAgQ2hlZW1Db3JlLkZhcm1UaWNrKGR0KQplbmQp")
local f = loadstring(s)
if f then f() end
